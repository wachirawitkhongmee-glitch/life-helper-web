<!DOCTYPE html>
<html lang="th">

<head>
  <style>
    /* handled in css */
  </style>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#FF6B6B">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta charset="UTF-8">
  <title>à¹€à¸¥à¸·à¸­à¸à¸«à¸¡à¸§à¸”à¸›à¸±à¸à¸«à¸²</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="page" style="width:100%; max-width:800px;">

    <div class="top-bar">
      <div class="app-title">LifeFix</div>
      <div style="display:flex;">
        <button class="icon-btn" onclick="openHistory()">ğŸ“œ à¸›à¸£à¸°à¸§à¸±à¸•à¸´</button>
        <button class="icon-btn" onclick="location.href='logout.html'">ğŸšª à¸­à¸­à¸</button>
      </div>
    </div>

    <h2>à¹€à¸¥à¸·à¸­à¸à¸«à¸¡à¸§à¸”à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸à¸š</h2>

    <div class="grid">
      <div class="cat" onclick="goSolve('à¸à¸²à¸£à¹€à¸‡à¸´à¸™')">ğŸ’° à¸à¸²à¸£à¹€à¸‡à¸´à¸™</div>
      <div class="cat" onclick="goSolve('à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™')">ğŸ“š à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™</div>
      <div class="cat" onclick="goSolve('à¸­à¸²à¸«à¸²à¸£')">ğŸ± à¸­à¸²à¸«à¸²à¸£</div>
      <div class="cat" onclick="goSolve('à¸­à¸·à¹ˆà¸™à¹†')">ğŸ§© à¸­à¸·à¹ˆà¸™à¹†</div>
    </div>

    <script>
      function openHistory() {
        let u = localStorage.getItem("currentUser");
        let h = JSON.parse(localStorage.getItem("history_" + u) || "[]");
        if (h.length == 0) { alert("à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´"); return; }

        let t = "ğŸ“œ à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸‚à¸­à¸‡à¸„à¸¸à¸“\n\n";
        h.forEach(x => t += "â€¢ " + x + "\n");
        alert(t);
      }



      function goSolve(type) {
        localStorage.setItem("cat", type);
        location.href = "problems.html";
      }
    </script>

    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("service-worker.js");
      }
    </script>
  </div>
</body>

</html>